<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title><%= title %></title>

  <!-- SEO Meta Tags -->
  <meta name="description" content="<%= service.description %>">
  <meta name="keywords" content="<%= service.title %>, graphic design, <%= service.category %>">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- Fix for missing images -->
  <script src="/js/fix-images.js"></script>
</head>
<body>
  <header class="header">
    <div class="container nav-container">
      <a href="/" class="logo">GraphicShop</a>
      <button class="mobile-menu-btn">
        <i class="fas fa-bars"></i>
      </button>
      <ul class="nav-links">
        <li><a href="/">Home</a></li>
        <li><a href="/products" class="active">Services</a></li>
        <li><a href="/portfolio">Portfolio</a></li>
        <li><a href="/about">About</a></li>
        <li><a href="/contact">Contact</a></li>
      </ul>
    </div>
  </header>

  <main class="container">
    <div class="breadcrumb">
      <a href="/">Home</a> / <a href="/products">Services</a> / <%= service.title %>
    </div>

    <div class="product-detail">
      <div class="product-image">
        <img src="<%= service.imageUrl %>" alt="<%= service.title %>">
      </div>

      <div class="product-info">
        <h1><%= service.title %></h1>
        <div class="product-price">$<%= service.price.toFixed(2) %></div>
        <div class="product-description">
          <p><%= service.fullDescription %></p>
        </div>

        <div class="product-cta">
          <a href="/checkout?service=<%= service.id %>" class="btn btn-primary">Order Now</a>
          <a href="/contact?service=<%= service.id %>" class="btn btn-outline">Ask a Question</a>
        </div>
      </div>
    </div>

    <div class="product-tabs">
      <div class="tabs-nav">
        <button class="tab-btn active" data-tab="process">Our Process</button>
        <button class="tab-btn" data-tab="deliverables">What You Get</button>
        <button class="tab-btn" data-tab="testimonials">Testimonials</button>
      </div>

      <div class="tab-content active" id="process">
        <h2>Our Design Process</h2>
        <ol class="process-list">
          <% if (service.process && service.process.length > 0) { %>
            <% service.process.forEach((step, index) => { %>
              <li>
                <div class="step-number"><%= index + 1 %></div>
                <div class="step-content">
                  <h3><%= step %></h3>
                </div>
              </li>
            <% }); %>
          <% } else { %>
            <li>No process information available</li>
          <% } %>
        </ol>
      </div>

      <div class="tab-content" id="deliverables">
        <h2>What You'll Receive</h2>
        <ul class="deliverables-list">
          <% if (service.deliverables && service.deliverables.length > 0) { %>
            <% service.deliverables.forEach(item => { %>
              <li><i class="fas fa-check-circle"></i> <%= item %></li>
            <% }); %>
          <% } else { %>
            <li>No deliverables information available</li>
          <% } %>
        </ul>
      </div>

      <div class="tab-content" id="testimonials">
        <h2>Client Testimonials</h2>
        <div class="testimonials-container">
          <% if (service.testimonials && service.testimonials.length > 0) { %>
            <% service.testimonials.forEach(testimonial => { %>
              <div class="testimonial">
                <div class="testimonial-rating">
                  <% for(let i = 1; i <= 5; i++) { %>
                    <i class="fas fa-star <%= i <= testimonial.rating ? 'filled' : '' %>"></i>
                  <% } %>
                </div>
                <div class="testimonial-content">
                  "<%= testimonial.content %>"
                </div>
                <div class="testimonial-author">
                  <%= testimonial.author %><% if (testimonial.company) { %>, <%= testimonial.company %><% } %>
                </div>
              </div>
            <% }); %>
          <% } else { %>
            <p>No testimonials available yet.</p>
          <% } %>
        </div>
      </div>
    </div>

    <div class="related-services">
      <h2>Related Services</h2>
      <div class="product-grid">
        <!-- Placeholder for related services -->
        <div class="product-card">
          <div class="product-image-container">
            <img src="/images/business-card.jpg" alt="Business Card Design" class="product-image">
          </div>
          <div class="product-details">
            <h3 class="product-title">Business Card Design</h3>
            <p class="product-category">print</p>
            <div class="product-price">$99.00</div>
            <div class="product-action">
              <a href="/products/business-card" class="btn btn-outline">View Details</a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>

  <footer>
    <!-- Footer content same as products.ejs -->
  </footer>

  <%- include('partials/scripts') %>
</body>
</html>
